{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SreeramYashasvi\\\\Cursor Files\\\\rag-system-basic\\\\frontend\\\\src\\\\components\\\\documentmanager.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Paper, Typography, Box, Checkbox, FormControlLabel, Button } from '@mui/material';\nimport axios from 'axios';\nfunction DocumentManager({\n  onSelectionChange,\n  refreshTrigger\n}) {\n  const [documents, setDocuments] = useState([]);\n  const [selectedDocs, setSelectedDocs] = useState([]);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    fetchDocuments();\n  }, [refreshTrigger]);\n  const fetchDocuments = async () => {\n    try {\n      const response = await axios.get('http://localhost:8000/documents');\n      setDocuments(response.data.documents);\n    } catch (error) {\n      setError('Failed to fetch documents');\n    }\n  };\n  const handleSelectionChange = document => {\n    const newSelection = selectedDocs.includes(document) ? selectedDocs.filter(doc => doc !== document) : [...selectedDocs, document];\n    setSelectedDocs(newSelection);\n    onSelectionChange(newSelection);\n  };\n  return /*#__PURE__*/React.createElement(Paper, {\n    elevation: 3,\n    sx: {\n      p: 3,\n      mb: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, \"Available Documents\"), error && /*#__PURE__*/React.createElement(Typography, {\n    color: \"error\",\n    sx: {\n      mb: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, error), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, documents.map(doc => /*#__PURE__*/React.createElement(FormControlLabel, {\n    key: doc,\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: selectedDocs.includes(doc),\n      onChange: () => handleSelectionChange(doc),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    }),\n    label: doc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }))), documents.length === 0 && /*#__PURE__*/React.createElement(Typography, {\n    color: \"text.secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"No documents uploaded yet\"));\n}\nexport default DocumentManager;","map":{"version":3,"names":["React","useState","useEffect","Paper","Typography","Box","Checkbox","FormControlLabel","Button","axios","DocumentManager","onSelectionChange","refreshTrigger","documents","setDocuments","selectedDocs","setSelectedDocs","error","setError","fetchDocuments","response","get","data","handleSelectionChange","document","newSelection","includes","filter","doc","createElement","elevation","sx","p","mb","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","color","map","key","control","checked","onChange","label","length"],"sources":["C:/Users/SreeramYashasvi/Cursor Files/rag-system-basic/frontend/src/components/documentmanager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Paper, Typography, Box, Checkbox, FormControlLabel, Button } from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nfunction DocumentManager({ onSelectionChange, refreshTrigger }) {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [selectedDocs, setSelectedDocs] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, [refreshTrigger]);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8000/documents');\r\n      setDocuments(response.data.documents);\r\n    } catch (error) {\r\n      setError('Failed to fetch documents');\r\n    }\r\n  };\r\n\r\n  const handleSelectionChange = (document) => {\r\n    const newSelection = selectedDocs.includes(document)\r\n      ? selectedDocs.filter(doc => doc !== document)\r\n      : [...selectedDocs, document];\r\n    \r\n    setSelectedDocs(newSelection);\r\n    onSelectionChange(newSelection);\r\n  };\r\n\r\n  return (\r\n    <Paper elevation={3} sx={{ p: 3, mb: 2 }}>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Available Documents\r\n      </Typography>\r\n      {error && (\r\n        <Typography color=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Typography>\r\n      )}\r\n      <Box>\r\n        {documents.map((doc) => (\r\n          <FormControlLabel\r\n            key={doc}\r\n            control={\r\n              <Checkbox\r\n                checked={selectedDocs.includes(doc)}\r\n                onChange={() => handleSelectionChange(doc)}\r\n              />\r\n            }\r\n            label={doc}\r\n          />\r\n        ))}\r\n      </Box>\r\n      {documents.length === 0 && (\r\n        <Typography color=\"text.secondary\">\r\n          No documents uploaded yet\r\n        </Typography>\r\n      )}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default DocumentManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}